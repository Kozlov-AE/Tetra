<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px; background-color:#f7f7fa;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000; background-color:#f7f7fa;">Класс FileStream не очень удобно применять для работы с текстовыми файлами. К тому же для этого в пространстве System.IO определены специальные классы:</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000;">StreamReader</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;"> и </span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000;">StreamWriter</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;">.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#f7f7fa;">Чтение из файла и StreamReader</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px; background-color:#f7f7fa;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000; background-color:#f7f7fa;">Класс StreamReader позволяет нам легко считывать весь текст или отдельные строки из текстового файла. Среди его методов можно выделить следующие:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px;"><span style=" font-size:13px; font-weight:600;">Close</span><span style=" font-size:13px;">: закрывает считываемый файл и освобождает все ресурсы</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px;"><span style=" font-size:13px; font-weight:600;">Peek</span><span style=" font-size:13px;">: возвращает следующий доступный символ, если символов больше нет, то возвращает -1</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px;"><span style=" font-size:13px; font-weight:600;">Read</span><span style=" font-size:13px;">: считывает и возвращает следующий символ в численном представлении. Имеет перегруженную версию:</span><span style=" font-family:'monospace'; font-size:13px;">Read(char[] array, int index, int count)</span><span style=" font-size:13px;">, где </span><span style=" font-family:'monospace'; font-size:13px;">array</span><span style=" font-size:13px;"> - массив, куда считываются символы, </span><span style=" font-family:'monospace'; font-size:13px;">index</span><span style=" font-size:13px;"> - индекс в массиве array, начиная с которого записываются считываемые символы, и count - максимальное количество считываемых символов</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px;"><span style=" font-size:13px; font-weight:600;">ReadLine</span><span style=" font-size:13px;">: считывает одну строку в файле</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px;"><span style=" font-size:13px; font-weight:600;">ReadToEnd</span><span style=" font-size:13px;">: считывает весь текст из файла</span></li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px; background-color:#f7f7fa;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000; background-color:#f7f7fa;">Считаем текст из файла различными способами:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:13px; margin-bottom:13px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000; background-color:#f7f7fa;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="0" cellpadding="0">
<tr>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><a name="highlighter_803785"></a><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">5</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">6</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">7</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">8</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">9</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">10</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">11</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">12</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">13</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">14</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">15</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">16</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">17</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">18</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">19</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">20</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">21</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">22</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">23</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">24</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">25</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">26</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">27</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">28</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">29</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">30</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">31</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">32</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">33</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">34</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">35</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">36</span></p></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">string path= @&quot;C:\SomeDir\hta.txt&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">            </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">try</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    Console.WriteLine(&quot;******считываем весь файл********&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    using (StreamReader sr = new StreamReader(path))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">        Console.WriteLine(sr.ReadToEnd());</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    Console.WriteLine();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    Console.WriteLine(&quot;******считываем построчно********&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    using (StreamReader sr = new StreamReader(path, System.Text.Encoding.Default))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">        string line;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">        while ((line = sr.ReadLine()) != null)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">        {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">            Console.WriteLine(line);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">        }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    Console.WriteLine();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    Console.WriteLine(&quot;******считываем блоками********&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    using (StreamReader sr = new StreamReader(path, System.Text.Encoding.Default))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">        char[] array = new char[4];</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">        // считываем 4 символа</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">        sr.Read(array, 0, 4);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">        Console.WriteLine(array);           </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">catch (Exception e)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    Console.WriteLine(e.Message);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">}</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px; background-color:#f7f7fa;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000; background-color:#f7f7fa;">Как и в случае с классом FileStream здесь используется конструкция</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">using</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px; background-color:#f7f7fa;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000; background-color:#f7f7fa;">В первом случае мы разом считываем весь текст с помощью метода</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">ReadToEnd()</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px; background-color:#f7f7fa;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000; background-color:#f7f7fa;">Во втором случае считываем построчно через цикл while:</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">while ((line = sr.ReadLine()) != null)</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;"> - сначала присваиваем переменной line результат функции </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">sr.ReadLine()</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;">, а затем проверяем, не равна ли она null. Когда объект sr дойдет до конца файла и больше строк не останется, то метод </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">sr.ReadLine()</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;"> будет возвращать null.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px; background-color:#f7f7fa;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000; background-color:#f7f7fa;">В третьем случае считываем в массив четыре символа.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px; background-color:#f7f7fa;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000; background-color:#f7f7fa;">Обратите внимание, что в последних двух случаях в конструкторе StreamReader указывалась кодировка</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">System.Text.Encoding.Default</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;">. Свойство Default класса Encoding получает кодировку для текущей кодовой страницы ANSI. Также через другие свойства мы можем указать другие кодировки. Если кодировка не указана, то при чтении используется </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">UTF8</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;">. Иногда важно указывать кодировку, так как она может отличаться от UTF8, и тогда мы получим некорректный вывод. Например:</span><img src="image1565161445cp7i1h6nsu.png" /></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#f7f7fa;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; font-weight:600; color:#000000; background-color:#f7f7fa;">Запись в файл и StreamWriter</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px; background-color:#f7f7fa;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000; background-color:#f7f7fa;">Для записи в текстовый файл используется класс</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">StreamWriter</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;">. Свою функциональность он реализует через следующие методы:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px;"><span style=" font-size:13px; font-weight:600;">Close</span><span style=" font-size:13px;">: закрывает записываемый файл и освобождает все ресурсы</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px;"><span style=" font-size:13px; font-weight:600;">Flush</span><span style=" font-size:13px;">: записывает в файл оставшиеся в буфере данные и очищает буфер.</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px;"><span style=" font-size:13px; font-weight:600;">Write</span><span style=" font-size:13px;">: записывает в файл данные простейших типов, как int, double, char, string и т.д.</span></li>
<li style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px;"><span style=" font-size:13px; font-weight:600;">WriteLine</span><span style=" font-size:13px;">: также записывает данные, только после записи добавляет в файл символ окончания строки</span></li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px; background-color:#f7f7fa;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000; background-color:#f7f7fa;">Рассмотрим запись в файл на примере:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:13px; margin-bottom:13px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000; background-color:#f7f7fa;"><br /></p>
<table border="0" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px;" cellspacing="0" cellpadding="0">
<tr>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><a name="highlighter_247881"></a><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">1</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">2</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">3</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">4</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">5</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">6</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">7</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">8</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">9</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">10</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">11</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">12</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">13</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">14</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">15</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">16</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">17</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">18</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">19</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">20</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">21</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">22</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">23</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">24</span></p>
<p align="right" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#afafaf;">25</span></p></td>
<td style=" padding-left:0; padding-right:0; padding-top:0; padding-bottom:0;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">string readPath= @&quot;C:\SomeDir\hta.txt&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">string writePath = @&quot;C:\SomeDir\ath.txt&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">string text = &quot;&quot;;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">try</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    using (StreamReader sr = new StreamReader(readPath, System.Text.Encoding.Default))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">        text=sr.ReadToEnd();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    using (StreamWriter sw = new StreamWriter(writePath, false, System.Text.Encoding.Default))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">        sw.WriteLine(text);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    using (StreamWriter sw = new StreamWriter(writePath, true, System.Text.Encoding.Default))</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    {</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">        sw.WriteLine(&quot;Дозапись&quot;);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">        sw.Write(4.5);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    }</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">}</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">catch (Exception e)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">{</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">    Console.WriteLine(e.Message);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:19.5px;"><span style=" font-family:'Consolas,Courier New,monospace'; font-size:8.25pt; color:#000000;">}</span></p></td></tr></table>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px; background-color:#f7f7fa;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000; background-color:#f7f7fa;">Здесь сначала мы считываем файл в переменную text, а затем записываем эту переменную в файл, а затем через объект StreamWriter записываем в новый файл.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px; background-color:#f7f7fa;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000; background-color:#f7f7fa;">Класс StreamWriter имеет несколько конструкторов. Здесь мы использовали один из них:</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;"> </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">new StreamWriter(writePath, false, System.Text.Encoding.Default)</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;">. В качестве первого параметра передается путь к записываемому файлу. Второй параметр представляет булевую переменную, которая определяет, будет файл дозаписываться или перезаписываться. Если этот параметр равен </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">true</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;">, то новые данные добавляются в конце к уже имеющимся данным. Если </span><span style=" font-family:'monospace'; font-size:8.25pt; color:#000000;">false</span><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000;">, то файл перезаписывается. И если в первом случае файл перезаписывается, то во втором делается дозапись в конец файла.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:20.8px; background-color:#f7f7fa;"><span style=" font-family:'verdana,arial,helvetica,sans-serif'; font-size:8.25pt; color:#000000; background-color:#f7f7fa;">Третий параметр указывает кодировку, в которой записывается файл.</span></p></body></html>