<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600; color:#000000;">Хорошие практики</span><span style=" color:#000000;"><br />1. Если ваш код только получает значение свойства – старайтесь писать get only свойства<br />При этом, если значение свойства устанавливается только в классе, где оно объявлено вы<br />можете использовать private set:<br />	</span><span style=" font-size:11pt; color:#15006a;">public int MyProperty { get; private set; }</span><span style=" color:#000000;"><br />Если же свойство задается один раз в конструкторе или при непосредственной<br />инициализации – используйте только get.<br />	</span><span style=" font-size:11pt; color:#15006a;">public int MyProperty { get; }</span><span style=" color:#000000;"><br />Также не стоит забывать о краткой записи такого свойства с помощью expression-bodied<br />member.<br />	</span><span style=" font-size:11pt; color:#15006a;">public int MyProperty =&gt; &lt;Выражение&gt;;</span><span style=" color:#000000;"><br />2. Старайтесь, по возможности, инициализировать ваши свойства:<br />	</span><span style=" font-size:11pt; color:#15006a;">public string MyProperty { get; } = string.Empty; // Инициализированное свойство</span><span style=" color:#000000;"><br />Но при этом не используйте для инициализации выражение, которое может привести к<br />потере производительности.<br />3. Ваш класс должен быть спроектирован так чтобы свойства в нем можно было<br />устанавливать в любом порядке. Если же ваш класс спроектирован таким образом, что<br />сначала надо установить свойство 1, а только затем свойство 2 для корректной работы, а<br />не наоборот, стоит задуматься о рефакторинге.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#000000;"><br /></span><span style=" font-weight:600; color:#000000;">Плохие практики</span><span style=" color:#000000;"><br />1. Не стоит выбрасывать исключения в геттере:<br />	</span><span style=" font-size:11pt; color:#15006a;">public string MyProperty<br />	{<br />	 get<br />	{<br />	 //Плохая практика<br />	 if(myVar == null)<br />	{<br />	 throw new NullReferenceException();<br />	}<br />	 return myVar;<br />	}<br />	 set =&gt; myVar = value;<br />	}</span><span style=" color:#000000;"><br />2. Не стоит делать set only свойства, если ваше свойство можно только задавать из<br />внешнего кода – лучше использовать для этого метод.<br />3. Не стоит сохранять значение свойства в сеттере до того, как вы выбросили<br />исключение. Если в вашем сеттере выбрасывается исключение – ваше свойство<br />должно сохранить старое значение:<br />	</span><span style=" font-size:11pt; color:#15006a;">public string MyProperty<br />	{<br />	get =&gt; myVar;<br />	set<br />	{<br />	// Плохая практика<br />	myVar = value;<br />	if(value.Length &lt; 3)<br />	{<br />	throw new ArgumentException(&quot;Имя слишком короткое&quot;);<br />	}<br />	}<br />	} </span></p></body></html>